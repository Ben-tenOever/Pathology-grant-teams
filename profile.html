<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Pathology Faculty Profile</title>
  <link rel="stylesheet" href="teams.css" />
</head>
<body>
  <!-- dept-profile-scope-20260227154553 -->
  <div class="container" style="max-width:900px; margin:0 auto; padding:18px 16px;">
    <div style="display:flex; gap:14px; flex-wrap:wrap; align-items:baseline;">
      <a href="index.html" style="text-decoration:none;">Home</a>
      <a href="faculty.html" style="text-decoration:none;">Faculty</a>
    </div>
  </div>

  <main id="app"></main>

  <script>
    (function () {
      var app = document.getElementById("app");

      function esc(s) {
        return String(s == null ? "" : s).replace(/[&<>"']/g, function (c) {
          return ({ "&":"&amp;", "<":"&lt;", ">":"&gt;", '"':"&quot;", "'":"&#39;" })[c];
        });
      }

      function getParam(name) {
        var m = new RegExp("[?&]" + name + "=([^&]+)").exec(location.search);
        return m ? decodeURIComponent(m[1]) : "";
      }

      var id = getParam("id");

      fetch("data/faculty_index.json?cb=" + Date.now(), { cache: "no-store" })
        .then(function (r) {
          if (!r.ok) throw new Error("Failed to load faculty_index.json: " + r.status);
          return r.json();
        })
        .then(function (faculty) {
          var f = null;
          for (var i = 0; i < faculty.length; i++) {
            if (String(faculty[i].id) === String(id)) { f = faculty[i]; break; }
          }

          if (!f) {
            app.innerHTML =
              '<div class="container" style="max-width:900px; margin:0 auto; padding:24px 16px;">' +
              '<a href="faculty.html">Back to Faculty</a>' +
              '<h1 style="margin-top:12px;">Faculty profile not found</h1>' +
              '<div style="opacity:.8;">No record for id: ' + esc(id) + "</div></div>";
            return;
          }

          var kw = Array.isArray(f.keywords) ? f.keywords : [];
          var kwHtml = "";
          if (kw.length) {
            kwHtml = '<div style="margin-top:10px; display:flex; flex-wrap:wrap; gap:8px;">';
            for (var j = 0; j < Math.min(30, kw.length); j++) {
              kwHtml += '<span style="padding:4px 10px; border-radius:999px; opacity:.85;">' + esc(kw[j]) + "</span>";
            }
            kwHtml += "</div>";
          }

          app.innerHTML =
            '<div class="container" style="max-width:900px; margin:0 auto; padding:24px 16px;">' +
            '<a href="faculty.html">Back to Faculty</a>' +
            '<h1 style="margin:12px 0 0 0;">' + esc(f.name || "") + "</h1>" +
            '<div style="opacity:.85; margin-top:6px;">' + esc(f.title || "") + "</div>" +
            '<div style="margin-top:14px; line-height:1.45; opacity:.95;">' + esc(f.summary || "") + "</div>" +
            kwHtml +
            "</div>";
        })
        .catch(function (err) {
          console.error(err);
          app.innerHTML = '<pre style="white-space:pre-wrap; padding:16px;">' + esc(String(err)) + "</pre>";
        });
    })();
  </script>
</body>
</html>
