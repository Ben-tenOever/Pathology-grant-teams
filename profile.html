<!doctype html>
<html lang="en"><head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pathology Profile</title>
<link rel="stylesheet" href="teams.css" />
</head><body>
<header>
  <div class="container">
    <div class="brand">
      <div class="brand-title">Pathology Grant Teams</div>
      <div class="brand-subtitle">Faculty scoped team suggestions</div>
    </div>
  </div>
</header>

<nav class="tabs">
  <div class="container tabs-inner">
    <a class="tab" href="index.html">Home</a>
    <a class="tab" href="faculty.html">Faculty profiles</a>
    <a class="tab" href="teams_two.html">Pairs</a>
    <a class="tab" href="teams_three_plus.html">Teams of three or more</a>
    <a class="tab" href="resources.html">Resources and model systems</a>
    <a class="tab" href="approaches.html">Experimental approaches</a>
  </div>
</nav>
<main id="app" class="container page">
  <div class="card" style="padding:16px;">Loading profileâ€¦</div>
</main>
<script>
(function(){
  var app = document.getElementById("app");
  function esc(s) {
  s = String(s == null ? "" : s);
  return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");
}
function loadJson(path, cb) {
  var xhr = new XMLHttpRequest();
  xhr.open("GET", path + "?cb=" + Date.now(), true);
  xhr.onreadystatechange = function () {
    if (xhr.readyState !== 4) return;
    if (xhr.status < 200 || xhr.status >= 300) return cb(new Error("Failed to load " + path + " status " + xhr.status));
    try { cb(null, JSON.parse(xhr.responseText)); }
    catch (e) { cb(new Error("JSON parse error for " + path + ": " + e)); }
  };
  xhr.onerror = function () { cb(new Error("Network error loading " + path)); };
  xhr.send(null);
}
  function qp(n) { var m = new RegExp("[?&]"+n+"=([^&]+)").exec(location.search); return m ? decodeURIComponent(m[1]) : ""; }
  var id = qp("id");
  loadJson("data/faculty_index.json", function(err, faculty){
    if (err) { app.innerHTML = '<pre style="white-space:pre-wrap; padding:16px;">'+esc(String(err))+'</pre>'; return; }
    faculty = faculty || [];
    var f = null;
    for (var i=0;i<faculty.length;i++) { if (String(faculty[i].id) === String(id)) { f = faculty[i]; break; } }
    if (!f) { app.innerHTML = '<div class="card" style="padding:16px;">Not found</div>'; return; }
    var kw = Array.isArray(f.keywords) ? f.keywords : [];
    var kwHtml = kw.length ? ('<div class="pill-row">' + kw.slice(0,30).map(function(k){return '<span class="pill">'+esc(k)+'</span>';}).join("") + '</div>') : "";
    app.innerHTML = '<a href="faculty.html" class="back-link">Back to Faculty</a>' +
      '<h1 class="page-title">'+esc(f.name||"")+'</h1>' +
      '<div class="page-subtitle">'+esc(f.title||"")+'</div>' +
      '<div class="card" style="padding:16px; margin-top:12px;">'+esc(f.summary||"") + kwHtml + '</div>';
  });
})();
</script>
</body></html>
